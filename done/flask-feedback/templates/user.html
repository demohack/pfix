{% extends 'base.html' %}

{% block title %} - Login{% endblock %}

{% block csslinks %}
{% endblock %}

{% block header %}
<h1>Flask Feedback Login</h1>
{% with messages = get_flashed_messages() %}
{% if messages %}
<ul class=flashes>
  {% for message in messages %}
  <li>{{ message }}</li>
  {% endfor %}
</ul>
{% endif %}
{% endwith %}
{% endblock %}

{% block content %}
hello {{ user.username }}

<div>
  <div>

    <h2>Feedback</h2>

    <ul>
      {% for feedback in user.feedback %}

      <li>
        <b>{{ feedback.title }}</b> {{ feedback.content }}
      </li>

      <form>
        {{form.hidden_tag()}}
        <button class="btn btn-primary"
                formmethod="GET"
                formaction="/feedback/{{ feedback.feedback_id }}/update">
          Edit
        </button>
        <button class="btn btn-danger"
                formmethod="POST"
                formaction="/feedback/{{ feedback.feedback_id }}/delete">
          Delete
        </button>
      </form>

      {% endfor %}
    </ul>

    <p>
      <a href="/users/{{ user.username }}/feedback/new" class="btn btn-primary">
        Add feedback
      </a>
    </p>

    <form>
      <button class="btn btn-danger btn-sm"
              formaction="/users/{{ user.username }}/delete"
              formmethod="POST">
        Delete User
      </button>
    </form>

  </div>
</div>

{% endblock %}


{% block footer %}
{% endblock %}

{% block scriptlinks %}
{% endblock %}